{"version":3,"file":"static/js/157.578b9628.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/BackButton/BackButton.module.css?d3a5","components/BackButton/BackButton.jsx","webpack://react-homework-template/./src/components/CardItem/CardItem.module.css?133d","components/CardItem/CardItem.jsx","webpack://react-homework-template/./src/components/CardsList/CardList.module.css?f578","components/CardsList/CardsList.jsx","components/LoadMoreButton/LoadMoreButton.jsx","Pages/TweetsPage.jsx","hooks/useLocalStorage.js","services/fetchAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"buttonContainer\":\"BackButton_buttonContainer__63M+e\",\"button\":\"BackButton_button__5Jmp+\",\"icon\":\"BackButton_icon__w-sxb\"};","import { RiArrowGoBackFill } from 'react-icons/ri';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport css from './BackButton.module.css';\n\nconst BackButton = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  return (\n    <div className={css.buttonContainer}>\n      <button\n        type=\"button\"\n        className={css.button}\n        onClick={() => {\n          navigate(location?.state?.from ?? '/');\n        }}\n      >\n        Go back <RiArrowGoBackFill className={css.icon} />\n      </button>\n    </div>\n  );\n};\nexport default BackButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"cardContainer\":\"CardItem_cardContainer__GzGWE\",\"cardLogo\":\"CardItem_cardLogo__1c4eW\",\"cardImg\":\"CardItem_cardImg__qxZx0\",\"avatarContainer\":\"CardItem_avatarContainer__2p7UV\",\"avatarImg\":\"CardItem_avatarImg__qX5SW\",\"cardTweets\":\"CardItem_cardTweets__F3Wwb\",\"cardFollowers\":\"CardItem_cardFollowers__v+I8G\",\"cardBtn\":\"CardItem_cardBtn__PYbNn\"};","import css from './CardItem.module.css';\nimport logo from '../../img/logo.png';\nimport picture from '../../img/picture21.png';\nimport { useState } from 'react';\n\nexport const CardItem = ({ item, followings, isFollowing }) => {\n  const { tweets, followers, user, avatar, id } = item;\n  const [ifFollowings, setIfFollowings] = useState(followings.includes(id));\n\n  const handleFollowButtonClick = () => {\n    isFollowing(id, followers, ifFollowings);\n    setIfFollowings(prev => !prev);\n  };\n\n  return (\n    <div className={css.cardContainer}>\n      <a\n        href=\"https://goit.global/ua/\"\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        <img src={logo} alt=\"GoIT\" className={css.cardLogo} />\n      </a>\n      <img src={picture} alt={`${user} avatar`} className={css.cardImg} />\n      <div className={css.avatarContainer}>\n        <img alt=\"avatar\" src={avatar} className={css.avatarImg}></img>\n      </div>\n      <p className={css.cardTweets}>{tweets} tweets</p>\n      <p className={css.cardFollowers}>\n        {followers.toLocaleString('en-US')} followers\n      </p>\n      <button\n        type=\"button\"\n        className={css.cardBtn}\n        style={{ backgroundColor: ifFollowings ? '#5CD3A8' : '#EBD8FF' }}\n        onClick={() => handleFollowButtonClick(id)}\n      >\n        {ifFollowings ? 'following' : 'follow'}\n      </button>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"cardList\":\"CardList_cardList__brJ0H\"};","import { CardItem } from 'components/CardItem/CardItem';\nimport css from './CardList.module.css';\nimport PropTypes from 'prop-types';\n\nconst CardList = ({ users, followings, isFollowing }) => {\n  return (\n    <>\n      {users.length !== 0 && (\n        <ul className={css.cardList}>\n          {users.map(item => (\n            <li key={item.id}>\n              <CardItem\n                item={item}\n                followings={followings}\n                isFollowing={isFollowing}\n              />\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default CardList;\n\nCardList.propTypes = {\n  users: PropTypes.array,\n  // followings: PropTypes.array,\n  // isFollowing: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport css from '../BackButton/BackButton.module.css';\n\nconst LoadMoreButton = ({ page, onLoadMoreClick }) => {\n  return (\n    <div className={css.buttonContainer}>\n      {' '}\n      <button\n        type=\"button\"\n        className={css.button}\n        onClick={() => onLoadMoreClick(page)}\n      >\n        Load more\n      </button>\n    </div>\n  );\n};\n\nLoadMoreButton.propTypes = {\n  page: PropTypes.number,\n  onLoadMoreClick: PropTypes.func,\n};\n\nexport default LoadMoreButton;\n","import BackButton from 'components/BackButton/BackButton';\nimport CardList from 'components/CardsList/CardsList';\nimport LoadMoreButton from 'components/LoadMoreButton/LoadMoreButton';\nimport Loader from 'components/Loader';\nimport { useLocalStorage } from 'hooks/useLocalStorage';\n\nconst { useEffect, useState } = require('react');\nconst { getUsers, getAllUsers, updateUser } = require('services/fetchAPI');\n\nconst TweetsPage = () => {\n  const [users, setUsers] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoad, setIsLoad] = useState(false);\n  const [loadMore, setLoadMore] = useState(false);\n  const [error, setError] = useState(false);\n  const [followings, setFollowings] = useLocalStorage('followings', []);\n\n  const usersPerPage = 3;\n  const totalHits = getAllUsers().then(data => {\n    return data.length;\n  });\n  const totalPages = Math.ceil(totalHits / usersPerPage);\n\n  useEffect(() => {\n    if (page === 1) {\n      console.log(page);\n      setIsLoad(true);\n      setLoadMore(true);\n      getUsers(page)\n        .then(data => setUsers(data))\n        .catch(error => setError(true))\n        .finally(() => setIsLoad(false));\n    } else {\n      getUsers(page).then(data => {\n        if (data.length === 0) {\n          setLoadMore(false);\n          return alert('No tweets found');\n        }\n        setUsers(prevUsers => [...prevUsers, ...data]);\n      });\n    }\n  }, [page]);\n\n  useEffect(() => {\n    if (page < totalPages / usersPerPage) {\n      setLoadMore(true);\n    }\n  }, [page, totalPages]);\n\n  const updateUserFollowers = async (id, followers, followings) => {\n    setUsers(users =>\n      users.map(user => {\n        if (user.id !== id) return user;\n        return {\n          ...user,\n          followers: !followings\n            ? (user.followers += 1)\n            : (user.followers -= 1),\n        };\n      })\n    );\n    if (!followings) {\n      setFollowings(prev => [...prev, id]);\n      await updateUser(id, (followers += 1));\n    } else {\n      setFollowings(prev => prev.filter(el => el !== id));\n      await updateUser(id, (followers -= 1));\n    }\n  };\n\n  const loadMoreHandler = () => {\n    setPage(page + 1);\n  };\n  console.log(page);\n  return (\n    <>\n      {isLoad ? (\n        <Loader />\n      ) : (\n        <>\n          {' '}\n          <BackButton />{' '}\n          <CardList\n            users={users}\n            followings={followings}\n            isFollowing={updateUserFollowers}\n          />\n        </>\n      )}\n      {error && <h1>{error.message}</h1>}\n\n      {loadMore && (\n        <LoadMoreButton page={page} onLoadMoreClick={loadMoreHandler} />\n      )}\n    </>\n  );\n};\n\nexport default TweetsPage;\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorage = (key, defaultValue) => {\n  const [state, setState] = useState(() => {\n    return JSON.parse(window.localStorage.getItem(key)) ?? defaultValue;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n};\n\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6457cd1e1a4c152cf98acf28.mockapi.io';\n\nexport async function getUsers(page) {\n  try {\n    const { data } = await axios.get(`/Users?page=${page}&limit=3`);\n    return data;\n  } catch (error) {\n    return Promise.reject(new Error('There is no tweets'));\n  }\n}\n\nexport async function getAllUsers() {\n  try {\n    const { data } = await axios.get(`/Users`);\n    return data;\n  } catch (error) {\n    return Promise.reject(new Error('There is no tweets'));\n  }\n}\n\nexport async function updateUser(userId, newFollowers) {\n  try {\n    const { data } = await axios.put(`/Users/${userId}`, {\n      followers: newFollowers,\n    });\n    return data;\n  } catch (error) {\n    return Promise.reject(new Error('There is no tweets'));\n  }\n}\n"],"names":["location","useLocation","navigate","useNavigate","className","css","type","onClick","state","from","CardItem","item","followings","isFollowing","tweets","followers","user","avatar","id","useState","includes","ifFollowings","setIfFollowings","href","target","rel","src","alt","picture","toLocaleString","style","backgroundColor","prev","users","length","map","page","onLoadMoreClick","require","useEffect","getUsers","getAllUsers","updateUser","setUsers","setPage","isLoad","setIsLoad","loadMore","setLoadMore","error","setError","key","defaultValue","JSON","parse","window","localStorage","getItem","setState","setItem","stringify","useLocalStorage","setFollowings","totalHits","then","data","totalPages","Math","ceil","console","log","catch","finally","alert","prevUsers","updateUserFollowers","filter","el","Loader","message","axios","Promise","reject","Error","userId","newFollowers"],"sourceRoot":""}